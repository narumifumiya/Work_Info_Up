<div class="container">
  <h2 class="text-center">部署登録 / 一覧</h2>
  <div>
    <%= render 'layouts/errors', obj: @department %>
  </div>
  <div class="row mt-5">
    <div class="col-10 col-md-7 ">
      <%= form_with model:@department, url: admin_departments_path, method: :post do |f| %>

        <div class="form-group row">
          <div class="col-md-3 mx-auto"><label for="name">部署名</label></div>
          <div class="col-md-9"><%= f.text_field :name,  class: "form-control", id: "name" %></div>
        </div>

        <div class="row mt-3">
          <div class="col-md-3 mx-auto"></div>
          <div class="col-md-9"><%= f.submit "新規登録", class: "btn btn-sm btn-success"%></div>
        </div>

      <% end %>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-11 col-md-12 mx-auto">
      <P>
        <%= link_to '新しい順', admin_departments_path(latest: "true") %>|
        <%= link_to '古い順', admin_departments_path(old: "true") %>|
      </P>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>部署名</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @departments.each do |department| %>
            <tr>
              <td><%= department.name %></td>
              <td class="text-right">
                <%= link_to "編集", edit_admin_department_path(department.id), class: "btn btn-sm btn-success" %>
                <%= link_to "削除", admin_department_path(department.id), method: :delete, class: "btn btn-sm btn-danger", data: { confirm: "本当に削除しますか？" } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <div class="mx-auto mt-5"><%= paginate @departments %></div>

  </div>
</div>